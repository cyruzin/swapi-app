(this.webpackJsonpswapi=this.webpackJsonpswapi||[]).push([[0],{21:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(16),a=n.n(c),s=(n(21),n(3)),o=n.n(s),i=n(4),u=n(5);var l=n(7),j=n.n(l),p="https://cyruzin.github.io/swapi-app/",h="Something went wrong",b="No response from the server",d="Network error";function f(e){throw e.response?e.response.data||h:e.request?e.request.response||b:e.message||d}var m=j.a.create({baseURL:"https://swapi.dev/api"});function O(e){return x.apply(this,arguments)}function x(){return(x=Object(i.a)(o.a.mark((function e(t){var n,r,c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,c=t.data,a=t.params,e.prev=1,e.next=4,m({url:n,method:r,data:c,params:a});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(1),f(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}j.a.create({baseURL:"https://www.googleapis.com/customsearch/v1",method:"GET"});n(41);var v=n(0);function g(e){var t=e.onKeyUp,n=e.onClick,r=e.results;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("input",{className:"Input",type:"text",placeholder:"Search",onKeyUp:function(e){return t(e.target.value)},"data-testid":"searchID"}),r.length>0&&Object(v.jsx)("div",{className:"InputBox",children:Object(v.jsx)("ul",{children:r.map((function(e){return Object(v.jsx)("ol",{className:"InputBox-Cursor",onClick:function(){return n(e)},children:e.name},e.name)}))})})]})}n(43);function k(e){if(!e.info)return null;var t=e.info,n=e.onClick;return Object(v.jsx)("div",{className:"ListBox",children:t&&t.map((function(e){return Object(v.jsx)("div",{children:Object(v.jsx)("p",{className:"ListBox-Link",onClick:function(){return n(e)},children:e.name})},e.name)}))})}n(44);function w(e){if(!e.info)return null;var t=e.info,n=t.name,r=t.gender,c=t.birth_year,a=t.skin_color,s=t.hair_color,o=t.eye_color,i=t.height,u=t.mass;return Object(v.jsxs)("div",{className:"InfoBox",children:[Object(v.jsx)("div",{className:"Info-Link",children:Object(v.jsx)("a",{href:p,children:"\u2190"})}),Object(v.jsxs)("p",{children:["Name: ",n]}),Object(v.jsxs)("p",{children:["Gender: ",r]}),Object(v.jsxs)("p",{children:["Birth year: ",c]}),Object(v.jsxs)("p",{children:["Skin color: ",a]}),Object(v.jsxs)("p",{children:["Hair color: ",s]}),Object(v.jsxs)("p",{children:["Eye color: ",o]}),Object(v.jsxs)("p",{children:["Height: ",i]}),Object(v.jsxs)("p",{children:["Mass: ",u]})]})}var y=n.p+"static/media/logo.c6be10cb.png";n(45);var C=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(u.a)(a,2),l=s[0],j=s[1],h=Object(r.useState)([]),b=Object(u.a)(h,2),d=b[0],f=b[1],m=Object(r.useState)(null),x=Object(u.a)(m,2),C=x[0],N=x[1],I=Object(r.useState)(null),S=Object(u.a)(I,2),L=S[0],B=S[1],E="SWAPI_LIST",T=Object(r.useCallback)(Object(i.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(""),B(""),c(!0),e.next=6,O({method:"GET",url:"/people/"});case 6:t=e.sent,localStorage.setItem(E,JSON.stringify(t.results)),j(t.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B(e.t0);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))),[]),U=Object(r.useCallback)((function(){try{N(""),B(""),c(!0);var e=JSON.parse(localStorage.getItem(E));e?j(e):T()}catch(L){B(L)}finally{c(!1)}}),[T]);Object(r.useEffect)((function(){U()}),[U]);var _=function(e,t){var n=Object(r.useRef)(null);return function(){for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];clearTimeout(n.current),n.current=setTimeout((function(){e.apply(void 0,c)}),t)}}(function(){var e=Object(i.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(""),N(""),B(""),c(!0),""!==t){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,O({method:"GET",url:"/people/?search=".concat(encodeURIComponent(t))});case 9:n=e.sent,f(n.results),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),B(e.t0);case 16:return e.prev=16,c(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t){return e.apply(this,arguments)}}(),500),G=Object(r.useCallback)(function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c(!0),N(t),f("")}catch(n){B(n)}finally{c(!1)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(v.jsxs)("div",{className:"Container",children:[L&&Object(v.jsx)("div",{className:"Container-Error",children:Object(v.jsx)("p",{children:L})}),n&&Object(v.jsx)("div",{className:"Container-Loading",children:Object(v.jsx)("p",{children:"Loading..."})}),Object(v.jsxs)("div",{children:[Object(v.jsx)("a",{href:p,children:Object(v.jsx)("img",{alt:"joker",className:"Container-Img",src:y})}),Object(v.jsx)("p",{className:"Container-Info",children:"By Cyro Dubeux"}),Object(v.jsx)("p",{className:"Container-Info",children:Object(v.jsx)("a",{className:"Container-Link",href:"https://github.com/cyruzin",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]}),Object(v.jsxs)("div",{className:"Content",children:[Object(v.jsx)(g,{onKeyUp:_,onClick:G,results:d}),!C&&Object(v.jsx)(k,{info:l,onClick:G}),Object(v.jsx)(w,{info:C})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(v.jsx)(C,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.b12de972.chunk.js.map