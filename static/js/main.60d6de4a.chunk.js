(this.webpackJsonpswapi=this.webpackJsonpswapi||[]).push([[0],{21:function(e,n,t){},41:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),c=t(16),s=t.n(c),o=(t(21),t(3)),i=t.n(o),l=t(4),u=t(5);var p=t(7),h=t.n(p),j="https://cyruzin.github.io/swapi-app/",f="Something went wrong",d="No response from the server",b="Network error";function m(e){throw e.response?e.response.data||f:e.request?e.request.response||d:e.message||b}var x=h.a.create({baseURL:"https://swapi.dev/api"});function v(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(i.a.mark((function e(n){var t,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,r=n.method,a=n.data,c=n.params,e.prev=1,e.next=4,x({url:t,method:r,data:a,params:c});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(1),m(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}h.a.create({baseURL:"https://www.googleapis.com/customsearch/v1",method:"GET"});t(41);var g=t(0),w=a.a.forwardRef((function(e,n){var t=e.onKeyUp,r=e.onClick,a=e.onClear,c=e.results;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"InputBox-Wrapper",children:[Object(g.jsx)("input",{className:"Input",type:"text",placeholder:"Search",onKeyUp:function(e){return t(e.target.value)},"data-testid":"searchID",ref:n}),Object(g.jsx)("span",{className:"InputBox-Clear",onClick:function(){return a()},children:"x"})]}),c.length>0&&Object(g.jsx)("div",{className:"InputBox",children:Object(g.jsx)("ul",{children:c.map((function(e){return Object(g.jsx)("ol",{className:"InputBox-Cursor",onClick:function(){return r(e)},children:e.name},e.name)}))})})]})}));t(43);function k(e){if(!e.info)return null;var n=e.info,t=e.onClick;return Object(g.jsx)("div",{className:"ListBox",children:n&&n.map((function(e){return Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"ListBox-Link",onClick:function(){return t(e)},children:e.name})},e.name)}))})}t(44);function y(e){if(!e.info)return null;var n=e.info,t=n.name,r=n.gender,a=n.birth_year,c=n.skin_color,s=n.hair_color,o=n.eye_color,i=n.height,l=n.mass;return Object(g.jsxs)("div",{className:"InfoBox",children:[Object(g.jsx)("div",{className:"Info-Link",children:Object(g.jsx)("a",{href:j,children:"\u2190"})}),Object(g.jsxs)("p",{children:["Name: ",t]}),Object(g.jsxs)("p",{children:["Gender: ",r]}),Object(g.jsxs)("p",{children:["Birth year: ",a]}),Object(g.jsxs)("p",{children:["Skin color: ",c]}),Object(g.jsxs)("p",{children:["Hair color: ",s]}),Object(g.jsxs)("p",{children:["Eye color: ",o]}),Object(g.jsxs)("p",{children:["Height: ",i]}),Object(g.jsxs)("p",{children:["Mass: ",l]})]})}var C=t.p+"static/media/logo.c6be10cb.png";t(45);var N=function(){var e=a.a.useState(!1),n=Object(u.a)(e,2),t=n[0],c=n[1],s=a.a.useState([]),o=Object(u.a)(s,2),p=o[0],h=o[1],f=a.a.useState([]),d=Object(u.a)(f,2),b=d[0],m=d[1],x=a.a.useState(null),O=Object(u.a)(x,2),N=O[0],I=O[1],S=a.a.useState(null),B=Object(u.a)(S,2),L=B[0],E=B[1],T=a.a.createRef(null),R="SWAPI_LIST",U=a.a.useCallback(Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(""),E(""),c(!0),e.next=6,v({method:"GET",url:"/people/"});case 6:n=e.sent,localStorage.setItem(R,JSON.stringify(n.results)),h(n.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),E(e.t0);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))),[]),_=a.a.useCallback((function(){try{I(""),E(""),c(!0);var e=JSON.parse(localStorage.getItem(R));e?h(e):U()}catch(L){E(L)}finally{c(!1)}}),[U]);a.a.useEffect((function(){_()}),[_]);var G=function(e,n){var t=Object(r.useRef)(null);return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];clearTimeout(t.current),t.current=setTimeout((function(){e.apply(void 0,a)}),n)}}(function(){var e=Object(l.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(""),I(""),E(""),c(!0),""!==n){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,v({method:"GET",url:"/people/?search=".concat(encodeURIComponent(n))});case 9:t=e.sent,m(t.results),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),E(e.t0);case 16:return e.prev=16,c(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(n){return e.apply(this,arguments)}}(),500),J=a.a.useCallback(function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c(!0),I(n),m("")}catch(t){E(t)}finally{c(!1)}case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);return Object(g.jsxs)("div",{className:"Container",children:[L&&Object(g.jsx)("div",{className:"Container-Error",children:Object(g.jsx)("p",{children:L})}),t&&Object(g.jsx)("div",{className:"Container-Loading",children:Object(g.jsx)("p",{children:"Loading..."})}),Object(g.jsxs)("div",{children:[Object(g.jsx)("a",{href:j,children:Object(g.jsx)("img",{alt:"joker",className:"Container-Img",src:C})}),Object(g.jsx)("p",{className:"Container-Info Container-Info-Text",children:"By Cyro Dubeux"}),Object(g.jsx)("p",{className:"Container-Info",children:Object(g.jsx)("a",{className:"Container-Link",href:"https://github.com/cyruzin/swapi-app",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]}),Object(g.jsxs)("div",{className:"Content",children:[Object(g.jsx)(w,{onKeyUp:G,onClick:J,onClear:function(){T.current.value="",m([])},results:b,ref:T}),!N&&Object(g.jsx)(k,{info:p,onClick:J}),Object(g.jsx)(y,{info:N})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(g.jsx)(N,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.60d6de4a.chunk.js.map