(this.webpackJsonpswapi=this.webpackJsonpswapi||[]).push([[0],{21:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(16),s=n.n(c),o=(n(21),n(3)),i=n.n(o),u=n(4),l=n(5);var p=n(7),h=n.n(p),j="https://cyruzin.github.io/swapi-app/",f="Something went wrong",d="No response from the server",b="Network error";function m(e){throw e.response?e.response.data||f:e.request?e.request.response||d:e.message||b}var x=h.a.create({baseURL:"https://swapi.dev/api"});function v(e){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(i.a.mark((function e(t){var n,r,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.method,a=t.data,c=t.params,e.prev=1,e.next=4,x({url:n,method:r,data:a,params:c});case 4:return s=e.sent,e.abrupt("return",s.data);case 8:e.prev=8,e.t0=e.catch(1),m(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}h.a.create({baseURL:"https://www.googleapis.com/customsearch/v1",method:"GET"});n(41);var w=n(0),g=a.a.forwardRef((function(e,t){var n=e.onKeyUp,r=e.onClick,a=e.onClear,c=e.showClearButton,s=e.results;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"InputBox-Wrapper",children:[Object(w.jsx)("input",{className:"Input",type:"text",placeholder:"Search",onKeyUp:function(e){return n(e.target.value)},"data-testid":"searchID",ref:t}),c&&Object(w.jsx)("span",{className:"InputBox-Clear",onClick:function(){return a()},children:"x"})]}),s.length>0&&Object(w.jsx)("div",{className:"InputBox",children:Object(w.jsx)("ul",{children:s.map((function(e){return Object(w.jsx)("ol",{className:"InputBox-Cursor",onClick:function(){return r(e)},children:e.name},e.name)}))})})]})}));n(43);function k(e){if(!e.info)return null;var t=e.info,n=e.onClick;return Object(w.jsx)("div",{className:"ListBox",children:t&&t.map((function(e){return Object(w.jsx)("div",{children:Object(w.jsx)("p",{className:"ListBox-Link",onClick:function(){return n(e)},children:e.name})},e.name)}))})}n(44);function C(e){if(!e.info)return null;var t=e.info,n=t.name,r=t.gender,a=t.birth_year,c=t.skin_color,s=t.hair_color,o=t.eye_color,i=t.height,u=t.mass;return Object(w.jsxs)("div",{className:"InfoBox",children:[Object(w.jsx)("div",{className:"Info-Link",children:Object(w.jsx)("a",{href:j,children:"\u2190"})}),Object(w.jsxs)("p",{children:["Name: ",n]}),Object(w.jsxs)("p",{children:["Gender: ",r]}),Object(w.jsxs)("p",{children:["Birth year: ",a]}),Object(w.jsxs)("p",{children:["Skin color: ",c]}),Object(w.jsxs)("p",{children:["Hair color: ",s]}),Object(w.jsxs)("p",{children:["Eye color: ",o]}),Object(w.jsxs)("p",{children:["Height: ",i]}),Object(w.jsxs)("p",{children:["Mass: ",u]})]})}var y=n.p+"static/media/logo.c6be10cb.png";n(45);var N=function(){var e=a.a.useState(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],s=a.a.useState([]),o=Object(l.a)(s,2),p=o[0],h=o[1],f=a.a.useState([]),d=Object(l.a)(f,2),b=d[0],m=d[1],x=a.a.useState(null),O=Object(l.a)(x,2),N=O[0],I=O[1],S=a.a.useState(null),B=Object(l.a)(S,2),L=B[0],E=B[1],T=a.a.useState(!1),R=Object(l.a)(T,2),U=R[0],_=R[1],G=a.a.createRef(null),J="SWAPI_LIST",W=a.a.useCallback(Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(""),E(""),c(!0),e.next=6,v({method:"GET",url:"/people/"});case 6:t=e.sent,localStorage.setItem(J,JSON.stringify(t.results)),h(t.results),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),E(e.t0);case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])}))),[]),H=a.a.useCallback((function(){try{I(""),E(""),c(!0);var e=JSON.parse(localStorage.getItem(J));e?h(e):W()}catch(L){E(L)}finally{c(!1)}}),[W]);a.a.useEffect((function(){H()}),[H]);var K=function(e,t){var n=Object(r.useRef)(null);return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];clearTimeout(n.current),n.current=setTimeout((function(){e.apply(void 0,a)}),t)}}(function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,m(""),I(""),E(""),c(!0),""!==t){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,v({method:"GET",url:"/people/?search=".concat(encodeURIComponent(t))});case 9:n=e.sent,m(n.results),_(!0),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),E(e.t0);case 17:return e.prev=17,c(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),500),q=a.a.useCallback(function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c(!0),I(t),m("")}catch(n){E(n)}finally{c(!1)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(w.jsxs)("div",{className:"Container",children:[L&&Object(w.jsx)("div",{className:"Container-Error",children:Object(w.jsx)("p",{children:L})}),n&&Object(w.jsx)("div",{className:"Container-Loading",children:Object(w.jsx)("p",{children:"Loading..."})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("a",{href:j,children:Object(w.jsx)("img",{alt:"joker",className:"Container-Img",src:y})}),Object(w.jsx)("p",{className:"Container-Info Container-Info-Text",children:"By Cyro Dubeux"}),Object(w.jsx)("p",{className:"Container-Info",children:Object(w.jsx)("a",{className:"Container-Link",href:"https://github.com/cyruzin/swapi-app",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})})]}),Object(w.jsxs)("div",{className:"Content",children:[Object(w.jsx)(g,{onKeyUp:K,onClick:q,onClear:function(){G.current.value="",m([]),_(!1)},results:b,showClearButton:U,ref:G}),!N&&Object(w.jsx)(k,{info:p,onClick:q}),Object(w.jsx)(C,{info:N})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(w.jsx)(N,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.488dc0de.chunk.js.map